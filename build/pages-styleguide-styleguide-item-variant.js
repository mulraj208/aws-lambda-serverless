"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[560],{2307:(e,t,r)=>{r.r(t),r.d(t,{default:()=>U});var n=r(9526),a=r(3717),l=r(9653),i=r(2757),c=r(1293),o=r(9934),u=r(9078),s=r(8519),d=r(526),m=r(9458),p=r(8562);const g=e=>{var t,r;const{attributes:i,hasQuantity:o}=e,{currency:u}=(0,p.U8)(),s=(0,m.Z)();if(!i)return null;const d=i.priceAdjustments?i.priceAdjustments.reduce(((e,t)=>e+(t.price??0)),0):void 0;return n.createElement(l.K,{flex:1,spacing:1.5},null===(t=i.variations)||void 0===t?void 0:t.map((e=>n.createElement(c.x,{color:"gray.700",fontSize:"sm",key:e.value.value,lineHeight:1},e.name,": ",e.value.name))),o&&i.quantity?n.createElement(c.x,{color:"gray.700",fontSize:"sm",lineHeight:1},s.formatMessage({id:"item_attributes.label.quantity"},{quantity:null===(r=i.quantity)||void 0===r?void 0:r.toString()})):null,d?n.createElement(a.k,{alignItems:"center"},n.createElement(c.x,{color:"gray.700",fontSize:"sm",lineHeight:1},s.formatMessage({id:"item_attributes.label.promotions"}),": ",n.createElement(c.x,{as:"span",color:"green.700",fontSize:"sm"},s.formatNumber(d,{currency:(null==i?void 0:i.currency)||u,style:"currency"})))):null)};var v=r(3426),E=r(9429),y=r(2883),h=r(565);const f=e=>{const{images:t,productUrl:r,imageSize:a}=e,[l,i]=(0,n.useState)(!0);if(!t)return null;const c=t[a][0],o=n.createElement(v.E,{alt:c.alt,h:"auto",src:c.link||c.disBaseLink,title:c.title,w:"100%",onLoad:()=>{i(!1)}});return n.createElement(E.o,{ratio:1},n.createElement(d.O,{borderRadius:"0.25rem",height:"100%",isLoaded:!l,width:"100%"},r?n.createElement(y.r,{as:h.Link,to:r},o):o))},b=e=>{const{prices:t}=e,{currency:r}=(0,p.U8)(),l=(0,m.Z)();if(!t)return null;const i=null!=t&&t.purchasePrice?l.formatNumber(null==t?void 0:t.purchasePrice,{style:"currency",currency:(null==t?void 0:t.currency)||r}):void 0,o=null!=t&&t.purchasePriceAfterItemDiscount?l.formatNumber(null==t?void 0:t.purchasePriceAfterItemDiscount,{style:"currency",currency:(null==t?void 0:t.currency)||r}):void 0,u=null!=t&&t.basePrice?l.formatNumber(null==t?void 0:t.basePrice,{style:"currency",currency:(null==t?void 0:t.currency)||r}):void 0,s=null!=t&&t.discountPrice?l.formatNumber(null==t?void 0:t.discountPrice,{style:"currency",currency:(null==t?void 0:t.currency)||r}):void 0,g=null==t?void 0:t.hasDiscountPrice,v=i||u,E=o||(g?s:void 0);return n.createElement(d.O,{h:null!=t&&t.basePrice?"auto":"1rem",isLoaded:!(null==t||!t.basePrice),mt:null!=t&&t.basePrice?"auto":"0.5rem",w:null!=t&&t.basePrice?"100%":"40%"},n.createElement(a.k,{gap:"0.5rem",justifyContent:"right"},n.createElement(n.Fragment,null,v?n.createElement(c.x,{as:"span",textDecor:g?"line-through":void 0},v):null,E?n.createElement(c.x,{as:"span"},E):null)))};var P=r(7692),S=r(9382);const O=["title","productUrl"],L=e=>{const{title:t,productUrl:r}=e,a=(0,S.Z)(e,O);return t?n.createElement(i.X,(0,P.Z)({lineHeight:"1.5rem",variant:"medium"},a),r?n.createElement(y.r,{_hover:{textDecoration:"none"},as:h.Link,to:r},t):t):null},w=e=>{const{product:t,hasQuantity:r=!1}=e,{id:i,name:c,attributes:o,prices:d,images:m}=t,v=(0,p.hg)(i);return n.createElement(u.r,{bg:"white",border:"1px solid",borderColor:"gray.100",borderRadius:"base",gap:4,maxW:"25rem",p:3,templateColumns:"repeat(3, 1fr)"},n.createElement(s.P,{colSpan:1,rowSpan:3},n.createElement(f,{images:m,imageSize:"small",productUrl:v})),n.createElement(s.P,{colSpan:2,rowSpan:2},n.createElement(l.K,{gap:2},n.createElement(L,{productUrl:v,title:c}),o?n.createElement(g,{attributes:o,hasQuantity:r}):null)),n.createElement(s.P,{alignItems:"flex-end",as:a.k,colSpan:2,h:"auto",justifyContent:"flex-end"},n.createElement(b,{prices:d})))},x=()=>n.createElement(u.r,{bg:"white",border:"1px solid",borderColor:"gray.100",borderRadius:"base",gap:4,h:"9.375rem",maxW:"25rem",p:3,templateColumns:"repeat(3, 1fr)"},n.createElement(s.P,{colSpan:1,rowSpan:3},n.createElement(d.O,{borderRadius:"base",h:"100%",w:"100%"})),n.createElement(s.P,{colSpan:2,rowSpan:2},n.createElement(d.O,{borderRadius:"base",h:"100%",w:"100%"})),n.createElement(s.P,{alignItems:"flex-end",as:a.k,colSpan:2,h:"auto",justifyContent:"flex-end"},n.createElement(d.O,{borderRadius:"base",h:"100%",w:"100%"})));var I=r(5305),j=r(8446),D=r(5187);function A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function k(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?A(Object(r),!0).forEach((function(t){(0,I.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const _=(e,t)=>{const r=(e=>{if(!e||!e.imageGroups)return;const t=e.imageGroups.filter((e=>null==e?void 0:e.viewType)),r={};return t.forEach((e=>{const t=e.viewType;r[t]=e.images})),r})(e),n={variations:((e=[],t={})=>e.reduce(((e,r)=>{var n;const a=null===(n=r.values)||void 0===n?void 0:n.find((e=>e.value===t[r.id]));return a&&e.push({id:r.id,value:a,name:r.name}),e}),[]))(e.variationAttributes,e.variationValues),priceAdjustments:(null==t?void 0:t.priceAdjustments)||[],quantity:null==t?void 0:t.quantity,currency:e.currency},a=((e,t)=>{const{basePrice:r,discountPrice:n}=(0,D.k)(e);return{basePrice:r,hasBasePrice:!!r,discountPrice:n,hasDiscountPrice:!!n,purchasePrice:null==t?void 0:t.price,purchasePriceAfterItemDiscount:null==t?void 0:t.priceAfterItemDiscount,currency:e.currency}})(e,t);return{name:e.name,id:e.id,images:r,attributes:n,prices:a}},C=(e,t)=>{const{data:r,error:n,isLoading:a}=(0,j.useProducts)({parameters:{ids:e.join(","),allImages:!0}},{enabled:t||Boolean(e)||e.length>0});return{data:r,error:n,isLoading:a}},N=()=>{const{showAlert:e}=(0,p.VY)(),t=(0,o.UO)(),[r,u]=(0,p.lr)();t.categoryId&&r.refine&&r.refine.push(`cgid=${t.categoryId}`);const{data:s,error:d,isLoading:m}=(()=>{var e;const{data:t}=(0,p.Qg)(),r=null==t||null===(e=t.productItems)||void 0===e?void 0:e.reduce(((e,t)=>(t.productId&&e.push(t.productId),e)),[]),{data:a,error:l,isLoading:i}=C(r||[]);return{data:(0,n.useMemo)((()=>null!=t&&t.productItems&&null!=a&&a.data?t.productItems.reduce(((e,t)=>{const r=a.data.find((e=>(null==e?void 0:e.id)===t.productId));return r&&e.push(_(r,t)),e}),[]):[]),[null==t?void 0:t.productItems,null==a?void 0:a.data]),error:l,isLoading:i}})(),{data:g,isLoading:v}=(e=>{var t;const{data:r}=(0,j.useProductSearch)({parameters:k(k({},e),{},{refine:e.refine})},{keepPreviousData:!0}),a=(null==r||null===(t=r.hits)||void 0===t?void 0:t.map((e=>e.productId)))??[],{data:l,error:i,isLoading:c}=C(a);return{data:(0,n.useMemo)((()=>null!=l&&l.data?l.data.map((e=>_(e))):[]),[null==l?void 0:l.data]),error:i,isLoading:c}})(r),{data:E,isLoading:y}=(()=>{var e;const{data:t}=(0,p.L4)(),r=(t&&(null==t||null===(e=t.customerProductListItems)||void 0===e?void 0:e.map((e=>e.productId))))??[],{data:a,error:l,isLoading:i}=C(r);return{data:(0,n.useMemo)((()=>null!=a&&a.data?a.data.map((e=>_(e))):[]),[null==a?void 0:a.data]),error:l,isLoading:i}})();return d?(e({status:"error",title:d.message}),null):n.createElement(a.k,{direction:"column",gap:3},n.createElement(l.K,{gap:3,my:5},n.createElement(i.X,{fontSize:"2xl",fontWeight:"bold"},"Search Results"),n.createElement(c.x,{color:"gray.700",fontSize:"2xs"},"add ?q=SEARCH to the URL, where SEARCH is a custom string"),0===g.length?n.createElement(i.X,null,"No search results"):null,v?n.createElement(l.K,{gap:3},n.createElement(x,null),n.createElement(x,null),n.createElement(x,null)):g.map((e=>n.createElement(w,{key:e.id,product:e}))),n.createElement(i.X,{fontSize:"2xl",fontWeight:"bold"},"Cart"),s.length>0?n.createElement(i.X,null,"New Product Item"):n.createElement(i.X,null,"No items in cart"),m?n.createElement(l.K,{gap:3},n.createElement(x,null),n.createElement(x,null),n.createElement(x,null)):s.map((e=>n.createElement(w,{hasQuantity:!0,key:e.id,product:e}))),y?n.createElement(i.X,null,"No products in wishlist"):n.createElement(i.X,{fontSize:"2xl",fontWeight:"bold"},"Wishlist Products"),y?n.createElement(l.K,{gap:3},n.createElement(x,null),n.createElement(x,null),n.createElement(x,null)):E.map((e=>n.createElement(w,{key:e.id,product:e})))))};N.getTemplateName=()=>"styleguide-item-variant-page";const U=N}}]);